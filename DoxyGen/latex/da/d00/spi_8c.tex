\hypertarget{spi_8c}{}\doxysection{C\+:/\+Users/nicko/source/repos/\+A\+P\+T\+X1\+\_\+1/\+Core/\+Src/spi.c File Reference}
\label{spi_8c}\index{C:/Users/nicko/source/repos/APTX1\_1/Core/Src/spi.c@{C:/Users/nicko/source/repos/APTX1\_1/Core/Src/spi.c}}
{\ttfamily \#include \char`\"{}spi.\+h\char`\"{}}\newline
Include dependency graph for spi.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=232pt]{d0/d14/spi_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{spi_8c_af81398f9775695df0b172367651ca3e6}{M\+X\+\_\+\+S\+P\+I1\+\_\+\+Init}} (void)
\item 
void \mbox{\hyperlink{spi_8c_a8e1dadd744299fa6f8bca0e1bcbd2c00}{H\+A\+L\+\_\+\+S\+P\+I\+\_\+\+Msp\+Init}} (S\+P\+I\+\_\+\+Handle\+Type\+Def $\ast$spi\+Handle)
\item 
void \mbox{\hyperlink{spi_8c_af9af6cae4cb9386b709196d3a3ab4f78}{H\+A\+L\+\_\+\+S\+P\+I\+\_\+\+Msp\+De\+Init}} (S\+P\+I\+\_\+\+Handle\+Type\+Def $\ast$spi\+Handle)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
S\+P\+I\+\_\+\+Handle\+Type\+Def \mbox{\hyperlink{spi_8c_a9c6222bae4d0328dd843ae099623b40b}{hspi1}}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{spi_8c_af9af6cae4cb9386b709196d3a3ab4f78}\label{spi_8c_af9af6cae4cb9386b709196d3a3ab4f78}} 
\index{spi.c@{spi.c}!HAL\_SPI\_MspDeInit@{HAL\_SPI\_MspDeInit}}
\index{HAL\_SPI\_MspDeInit@{HAL\_SPI\_MspDeInit}!spi.c@{spi.c}}
\doxysubsubsection{\texorpdfstring{HAL\_SPI\_MspDeInit()}{HAL\_SPI\_MspDeInit()}}
{\footnotesize\ttfamily void H\+A\+L\+\_\+\+S\+P\+I\+\_\+\+Msp\+De\+Init (\begin{DoxyParamCaption}\item[{S\+P\+I\+\_\+\+Handle\+Type\+Def $\ast$}]{spi\+Handle }\end{DoxyParamCaption})}

S\+P\+I1 G\+P\+IO Configuration ~\newline
 P\+A5 -\/-\/-\/---$>$ S\+P\+I1\+\_\+\+S\+CK P\+A6 -\/-\/-\/---$>$ S\+P\+I1\+\_\+\+M\+I\+SO P\+A7 -\/-\/-\/---$>$ S\+P\+I1\+\_\+\+M\+O\+SI

Definition at line 92 of file spi.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{93 \{}
\DoxyCodeLine{94 }
\DoxyCodeLine{95   \textcolor{keywordflow}{if}(spiHandle-\/>Instance==SPI1)}
\DoxyCodeLine{96   \{}
\DoxyCodeLine{97   \textcolor{comment}{/* USER CODE BEGIN SPI1\_MspDeInit 0 */}}
\DoxyCodeLine{98 }
\DoxyCodeLine{99   \textcolor{comment}{/* USER CODE END SPI1\_MspDeInit 0 */}}
\DoxyCodeLine{100     \textcolor{comment}{/* Peripheral clock disable */}}
\DoxyCodeLine{101     \_\_HAL\_RCC\_SPI1\_CLK\_DISABLE();}
\DoxyCodeLine{102   \textcolor{comment}{}}
\DoxyCodeLine{103 \textcolor{comment}{    /**SPI1 GPIO Configuration    }}
\DoxyCodeLine{104 \textcolor{comment}{    PA5     -\/-\/-\/-\/-\/-\/> SPI1\_SCK}}
\DoxyCodeLine{105 \textcolor{comment}{    PA6     -\/-\/-\/-\/-\/-\/> SPI1\_MISO}}
\DoxyCodeLine{106 \textcolor{comment}{    PA7     -\/-\/-\/-\/-\/-\/> SPI1\_MOSI }}
\DoxyCodeLine{107 \textcolor{comment}{    */}}
\DoxyCodeLine{108     HAL\_GPIO\_DeInit(GPIOA, GPIO\_PIN\_5|GPIO\_PIN\_6|GPIO\_PIN\_7);}
\DoxyCodeLine{109 }
\DoxyCodeLine{110   \textcolor{comment}{/* USER CODE BEGIN SPI1\_MspDeInit 1 */}}
\DoxyCodeLine{111 }
\DoxyCodeLine{112   \textcolor{comment}{/* USER CODE END SPI1\_MspDeInit 1 */}}
\DoxyCodeLine{113   \}}
\DoxyCodeLine{114 \} }

\end{DoxyCode}
\mbox{\Hypertarget{spi_8c_a8e1dadd744299fa6f8bca0e1bcbd2c00}\label{spi_8c_a8e1dadd744299fa6f8bca0e1bcbd2c00}} 
\index{spi.c@{spi.c}!HAL\_SPI\_MspInit@{HAL\_SPI\_MspInit}}
\index{HAL\_SPI\_MspInit@{HAL\_SPI\_MspInit}!spi.c@{spi.c}}
\doxysubsubsection{\texorpdfstring{HAL\_SPI\_MspInit()}{HAL\_SPI\_MspInit()}}
{\footnotesize\ttfamily void H\+A\+L\+\_\+\+S\+P\+I\+\_\+\+Msp\+Init (\begin{DoxyParamCaption}\item[{S\+P\+I\+\_\+\+Handle\+Type\+Def $\ast$}]{spi\+Handle }\end{DoxyParamCaption})}

S\+P\+I1 G\+P\+IO Configuration ~\newline
 P\+A5 -\/-\/-\/---$>$ S\+P\+I1\+\_\+\+S\+CK P\+A6 -\/-\/-\/---$>$ S\+P\+I1\+\_\+\+M\+I\+SO P\+A7 -\/-\/-\/---$>$ S\+P\+I1\+\_\+\+M\+O\+SI

Definition at line 54 of file spi.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{55 \{}
\DoxyCodeLine{56 }
\DoxyCodeLine{57   GPIO\_InitTypeDef GPIO\_InitStruct = \{0\};}
\DoxyCodeLine{58   \textcolor{keywordflow}{if}(spiHandle-\/>Instance==SPI1)}
\DoxyCodeLine{59   \{}
\DoxyCodeLine{60   \textcolor{comment}{/* USER CODE BEGIN SPI1\_MspInit 0 */}}
\DoxyCodeLine{61 }
\DoxyCodeLine{62   \textcolor{comment}{/* USER CODE END SPI1\_MspInit 0 */}}
\DoxyCodeLine{63     \textcolor{comment}{/* SPI1 clock enable */}}
\DoxyCodeLine{64     \_\_HAL\_RCC\_SPI1\_CLK\_ENABLE();}
\DoxyCodeLine{65   }
\DoxyCodeLine{66     \_\_HAL\_RCC\_GPIOA\_CLK\_ENABLE();\textcolor{comment}{}}
\DoxyCodeLine{67 \textcolor{comment}{    /**SPI1 GPIO Configuration    }}
\DoxyCodeLine{68 \textcolor{comment}{    PA5     -\/-\/-\/-\/-\/-\/> SPI1\_SCK}}
\DoxyCodeLine{69 \textcolor{comment}{    PA6     -\/-\/-\/-\/-\/-\/> SPI1\_MISO}}
\DoxyCodeLine{70 \textcolor{comment}{    PA7     -\/-\/-\/-\/-\/-\/> SPI1\_MOSI }}
\DoxyCodeLine{71 \textcolor{comment}{    */}}
\DoxyCodeLine{72     GPIO\_InitStruct.Pin = GPIO\_PIN\_5;}
\DoxyCodeLine{73     GPIO\_InitStruct.Mode = GPIO\_MODE\_AF\_PP;}
\DoxyCodeLine{74     GPIO\_InitStruct.Pull = GPIO\_NOPULL;}
\DoxyCodeLine{75     GPIO\_InitStruct.Speed = GPIO\_SPEED\_FREQ\_HIGH;}
\DoxyCodeLine{76     GPIO\_InitStruct.Alternate = GPIO\_AF0\_SPI1;}
\DoxyCodeLine{77     HAL\_GPIO\_Init(GPIOA, \&GPIO\_InitStruct);}
\DoxyCodeLine{78 }
\DoxyCodeLine{79     GPIO\_InitStruct.Pin = GPIO\_PIN\_6|GPIO\_PIN\_7;}
\DoxyCodeLine{80     GPIO\_InitStruct.Mode = GPIO\_MODE\_AF\_PP;}
\DoxyCodeLine{81     GPIO\_InitStruct.Pull = GPIO\_PULLUP;}
\DoxyCodeLine{82     GPIO\_InitStruct.Speed = GPIO\_SPEED\_FREQ\_HIGH;}
\DoxyCodeLine{83     GPIO\_InitStruct.Alternate = GPIO\_AF0\_SPI1;}
\DoxyCodeLine{84     HAL\_GPIO\_Init(GPIOA, \&GPIO\_InitStruct);}
\DoxyCodeLine{85 }
\DoxyCodeLine{86   \textcolor{comment}{/* USER CODE BEGIN SPI1\_MspInit 1 */}}
\DoxyCodeLine{87 }
\DoxyCodeLine{88   \textcolor{comment}{/* USER CODE END SPI1\_MspInit 1 */}}
\DoxyCodeLine{89   \}}
\DoxyCodeLine{90 \}}

\end{DoxyCode}
\mbox{\Hypertarget{spi_8c_af81398f9775695df0b172367651ca3e6}\label{spi_8c_af81398f9775695df0b172367651ca3e6}} 
\index{spi.c@{spi.c}!MX\_SPI1\_Init@{MX\_SPI1\_Init}}
\index{MX\_SPI1\_Init@{MX\_SPI1\_Init}!spi.c@{spi.c}}
\doxysubsubsection{\texorpdfstring{MX\_SPI1\_Init()}{MX\_SPI1\_Init()}}
{\footnotesize\ttfamily void M\+X\+\_\+\+S\+P\+I1\+\_\+\+Init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line 30 of file spi.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{31 \{}
\DoxyCodeLine{32 }
\DoxyCodeLine{33   \mbox{\hyperlink{spi_8c_a9c6222bae4d0328dd843ae099623b40b}{hspi1}}.Instance = SPI1;}
\DoxyCodeLine{34   \mbox{\hyperlink{spi_8c_a9c6222bae4d0328dd843ae099623b40b}{hspi1}}.Init.Mode = SPI\_MODE\_MASTER;}
\DoxyCodeLine{35   \mbox{\hyperlink{spi_8c_a9c6222bae4d0328dd843ae099623b40b}{hspi1}}.Init.Direction = SPI\_DIRECTION\_2LINES;}
\DoxyCodeLine{36   \mbox{\hyperlink{spi_8c_a9c6222bae4d0328dd843ae099623b40b}{hspi1}}.Init.DataSize = SPI\_DATASIZE\_8BIT;}
\DoxyCodeLine{37   \mbox{\hyperlink{spi_8c_a9c6222bae4d0328dd843ae099623b40b}{hspi1}}.Init.CLKPolarity = SPI\_POLARITY\_LOW;}
\DoxyCodeLine{38   \mbox{\hyperlink{spi_8c_a9c6222bae4d0328dd843ae099623b40b}{hspi1}}.Init.CLKPhase = SPI\_PHASE\_1EDGE;}
\DoxyCodeLine{39   \mbox{\hyperlink{spi_8c_a9c6222bae4d0328dd843ae099623b40b}{hspi1}}.Init.NSS = SPI\_NSS\_SOFT;}
\DoxyCodeLine{40   \mbox{\hyperlink{spi_8c_a9c6222bae4d0328dd843ae099623b40b}{hspi1}}.Init.BaudRatePrescaler = SPI\_BAUDRATEPRESCALER\_32;}
\DoxyCodeLine{41   \mbox{\hyperlink{spi_8c_a9c6222bae4d0328dd843ae099623b40b}{hspi1}}.Init.FirstBit = SPI\_FIRSTBIT\_MSB;}
\DoxyCodeLine{42   \mbox{\hyperlink{spi_8c_a9c6222bae4d0328dd843ae099623b40b}{hspi1}}.Init.TIMode = SPI\_TIMODE\_DISABLE;}
\DoxyCodeLine{43   \mbox{\hyperlink{spi_8c_a9c6222bae4d0328dd843ae099623b40b}{hspi1}}.Init.CRCCalculation = SPI\_CRCCALCULATION\_DISABLE;}
\DoxyCodeLine{44   \mbox{\hyperlink{spi_8c_a9c6222bae4d0328dd843ae099623b40b}{hspi1}}.Init.CRCPolynomial = 7;}
\DoxyCodeLine{45   \mbox{\hyperlink{spi_8c_a9c6222bae4d0328dd843ae099623b40b}{hspi1}}.Init.CRCLength = SPI\_CRC\_LENGTH\_DATASIZE;}
\DoxyCodeLine{46   \mbox{\hyperlink{spi_8c_a9c6222bae4d0328dd843ae099623b40b}{hspi1}}.Init.NSSPMode = SPI\_NSS\_PULSE\_DISABLE;}
\DoxyCodeLine{47   \textcolor{keywordflow}{if} (HAL\_SPI\_Init(\&\mbox{\hyperlink{spi_8c_a9c6222bae4d0328dd843ae099623b40b}{hspi1}}) != HAL\_OK)}
\DoxyCodeLine{48   \{}
\DoxyCodeLine{49     \mbox{\hyperlink{main_8h_a1730ffe1e560465665eb47d9264826f9}{Error\_Handler}}();}
\DoxyCodeLine{50   \}}
\DoxyCodeLine{51 }
\DoxyCodeLine{52 \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=266pt]{da/d00/spi_8c_af81398f9775695df0b172367651ca3e6_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=228pt]{da/d00/spi_8c_af81398f9775695df0b172367651ca3e6_icgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{spi_8c_a9c6222bae4d0328dd843ae099623b40b}\label{spi_8c_a9c6222bae4d0328dd843ae099623b40b}} 
\index{spi.c@{spi.c}!hspi1@{hspi1}}
\index{hspi1@{hspi1}!spi.c@{spi.c}}
\doxysubsubsection{\texorpdfstring{hspi1}{hspi1}}
{\footnotesize\ttfamily S\+P\+I\+\_\+\+Handle\+Type\+Def hspi1}

File Name \+: S\+P\+I.\+c Description \+: This file provides code for the configuration of the S\+PI instances.

\begin{DoxyAttention}{Attention}

\end{DoxyAttention}
\doxysubsubsection*{\begin{center}\copyright{} Copyright (c) 2020 S\+T\+Microelectronics. All rights reserved.\end{center} }

This software component is licensed by ST under B\+SD 3-\/Clause license, the \char`\"{}\+License\char`\"{}; You may not use this file except in compliance with the License. You may obtain a copy of the License at\+: opensource.\+org/licenses/\+B\+S\+D-\/3-\/\+Clause 

Definition at line 27 of file spi.\+c.

